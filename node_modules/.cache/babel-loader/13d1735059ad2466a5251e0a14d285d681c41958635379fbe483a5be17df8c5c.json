{"ast":null,"code":"//This works!!!!\n// import { useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { createPetPost } from '../../services/petPostService';\n\n// export const PostAPet = ({ currentUser }) => {\n//     const [newPost, setNewPost] = useState({\n//         name: '',\n//         age: '',\n//         ageUnit: 'weeks', // Added ageUnit\n//         species: '',\n//         breed: '',\n//         medicalCondition: '',\n//         behavioralIssues: '',\n//         reasonForRehoming: '',\n//         photo: ''\n//     });\n\n//     const navigate = useNavigate();\n\n//     const handleAddPost = async (event) => {\n//         event.preventDefault();\n//         const { name, age, species, breed, medicalCondition, behavioralIssues, reasonForRehoming, photo } = newPost;\n//         if (!name || !age || !species || !breed || !medicalCondition || !behavioralIssues || !reasonForRehoming || !photo) {\n//             alert('Please fill out all fields!');\n//             return;\n//         }\n//         const post = {\n//             ...newPost,\n//             ownerId: currentUser.id,\n//             timestamp: new Date().toISOString(),\n//         };\n//         await createPetPost(post);\n//         setNewPost({\n//             name: '',\n//             age: '',\n//             ageUnit: 'weeks', // Reset ageUnit\n//             species: '',\n//             breed: '',\n//             medicalCondition: '',\n//             behavioralIssues: '',\n//             reasonForRehoming: '',\n//             photo: ''\n//         });\n\n//         navigate('/myPosts');\n//     };\n\n//     return (\n//         <form onSubmit={handleAddPost}>\n//             <div className=\"form-group\">\n//                 <label>Name</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter name\"\n//                     value={newPost.name}\n//                     onChange={(event) => setNewPost({ ...newPost, name: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Age</label>\n//                 <div className=\"d-flex\">\n//                     <input\n//                         type=\"number\"\n//                         className=\"form-control\"\n//                         placeholder=\"Enter age\"\n//                         value={newPost.age}\n//                         onChange={(event) => setNewPost({ ...newPost, age: event.target.value })}\n//                     />\n//                     <select\n//                         className=\"form-control ml-2\"\n//                         value={newPost.ageUnit}\n//                         onChange={(event) => setNewPost({ ...newPost, ageUnit: event.target.value })}\n//                     >\n//                         {/* Corrected plural/singular form handling */}\n//                         <option value=\"weeks\">{newPost.age === 1 ? 'Week' : 'Weeks'}</option>\n//                         <option value=\"months\">{newPost.age === 1 ? 'Month' : 'Months'}</option>\n//                         <option value=\"years\">{newPost.age === 1 ? 'Year' : 'Years'}</option>\n//                     </select>\n//                 </div>\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Species</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter species\"\n//                     value={newPost.species}\n//                     onChange={(event) => setNewPost({ ...newPost, species: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Breed</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter breed\"\n//                     value={newPost.breed}\n//                     onChange={(event) => setNewPost({ ...newPost, breed: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Medical Condition</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter medical condition\"\n//                     value={newPost.medicalCondition}\n//                     onChange={(event) => setNewPost({ ...newPost, medicalCondition: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Behavioral Issues</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter behavioral issues\"\n//                     value={newPost.behavioralIssues}\n//                     onChange={(event) => setNewPost({ ...newPost, behavioralIssues: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Reason For Rehoming</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter reason for rehoming\"\n//                     value={newPost.reasonForRehoming}\n//                     onChange={(event) => setNewPost({ ...newPost, reasonForRehoming: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Photo</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter photo URL\"\n//                     value={newPost.photo}\n//                     onChange={(event) => setNewPost({ ...newPost, photo: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"button-group\">\n//                 <button type=\"submit\" className=\"btn btn-warning\">Save Pet Post</button>\n//             </div>\n//         </form>\n//     );\n// };\n\n//upload pic:\n// import { useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { createPetPost } from '../../services/petPostService';\n// import axios from 'axios';\n\n// export const PostAPet = ({ currentUser }) => {\n//     const [newPost, setNewPost] = useState({\n//         name: '',\n//         age: '',\n//         ageUnit: 'weeks',\n//         species: '',\n//         breed: '',\n//         medicalCondition: '',\n//         behavioralIssues: '',\n//         reasonForRehoming: '',\n//         photo: null // Changed to null for storing the selected image file\n//     });\n\n//     const [selectedFile, setSelectedFile] = useState(null);\n//     const [file, setFile] = useState(null);\n//     // const [progress, setProgress] = useState({ started: false, pc: 0 });\n//     // const [msg, setMsg] = useState(null);\n\n//     const navigate = useNavigate();\n\n//     const handleAddPost = async (event) => {\n//         event.preventDefault();\n//         const { name, age, species, breed, medicalCondition, behavioralIssues, reasonForRehoming } = newPost;\n//         if (!name || !age || !species || !breed || !medicalCondition || !behavioralIssues || !reasonForRehoming || !selectedFile) {\n//             alert('Please fill out all fields!');\n//             return;\n//         }\n\n//         const formData = new FormData();\n//         formData.append('name', name);\n//         formData.append('age', age);\n//         formData.append('ageUnit', newPost.ageUnit);\n//         formData.append('species', species);\n//         formData.append('breed', breed);\n//         formData.append('medicalCondition', medicalCondition);\n//         formData.append('behavioralIssues', behavioralIssues);\n//         formData.append('reasonForRehoming', reasonForRehoming);\n//         formData.append('photo', selectedFile);\n//         formData.append('ownerId', currentUser.id);\n//         formData.append('timestamp', new Date().toISOString());\n\n//         try {\n//             await createPetPost(formData); // Assuming createPetPost can handle FormData\n//             setNewPost({\n//                 name: '',\n//                 age: '',\n//                 ageUnit: 'weeks',\n//                 species: '',\n//                 breed: '',\n//                 medicalCondition: '',\n//                 behavioralIssues: '',\n//                 reasonForRehoming: '',\n//                 photo: null\n//             });\n//             setSelectedFile(null);\n//             navigate('/myPosts');\n//         } catch (error) {\n//             console.error('Error creating pet post:', error);\n//         }\n//     };\n\n//     const fileSelectedHandler = (event) => {\n//         setSelectedFile(event.target.files[0]);\n//     };\n\n//     function handleUpload() {\n//         if (!file) {\n//             console.log(\"NO file selected!\")\n//             return;\n//         }\n\n//         const fd = new FormData();\n//         fd.append(\"file\", file);\n\n//         setMsg(\"Uploading....\");\n//         setProgress(prevState => {\n//             return { ...prevState, started: true };\n//         });\n\n//         axios.post(\"http://httpbin.org/post\", fd, {\n//             onUploadProgress: (progressEvent) => {\n//                 setProgress(prevState => {\n//                     return { ...prevState, pc: progressEvent.loaded / progressEvent.total * 100 };\n//                 });\n//             },\n//             headers: {\n//                 \"Custom-Header\": \"value\"\n//             }\n//         })\n//             .then(res => {\n//                 setMsg(\"Upload successful\");\n//                 console.log(res.data);\n//             })\n//             .catch(err => {\n//                 setMsg(\"Upload failed\");\n//                 console.log(err);\n//             });\n//     }\n\n//     return (\n//         <form onSubmit={handleAddPost}>\n//             <div className=\"form-group\">\n//                 <label>Name</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter name\"\n//                     value={newPost.name}\n//                     onChange={(event) => setNewPost({ ...newPost, name: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Age</label>\n//                 <div className=\"d-flex\">\n//                     <input\n//                         type=\"number\"\n//                         className=\"form-control\"\n//                         placeholder=\"Enter age\"\n//                         value={newPost.age}\n//                         onChange={(event) => setNewPost({ ...newPost, age: event.target.value })}\n//                     />\n//                     <select\n//                         className=\"form-control ml-2\"\n//                         value={newPost.ageUnit}\n//                         onChange={(event) => setNewPost({ ...newPost, ageUnit: event.target.value })}\n//                     >\n//                         <option value=\"weeks\">{newPost.age === 1 ? 'Week' : 'Weeks'}</option>\n//                         <option value=\"months\">{newPost.age === 1 ? 'Month' : 'Months'}</option>\n//                         <option value=\"years\">{newPost.age === 1 ? 'Year' : 'Years'}</option>\n//                     </select>\n//                 </div>\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Species</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter species\"\n//                     value={newPost.species}\n//                     onChange={(event) => setNewPost({ ...newPost, species: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Breed</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter breed\"\n//                     value={newPost.breed}\n//                     onChange={(event) => setNewPost({ ...newPost, breed: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Medical Condition</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter medical condition\"\n//                     value={newPost.medicalCondition}\n//                     onChange={(event) => setNewPost({ ...newPost, medicalCondition: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Behavioral Issues</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter behavioral issues\"\n//                     value={newPost.behavioralIssues}\n//                     onChange={(event) => setNewPost({ ...newPost, behavioralIssues: event.target.value })}\n//                 />\n//             </div>\n\n//             <div className=\"form-group\">\n//                 <label>Reason For Rehoming</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter reason for rehoming\"\n//                     value={newPost.reasonForRehoming}\n//                     onChange={(event) => setNewPost({ ...newPost, reasonForRehoming: event.target.value })}\n//                 />\n//             </div>\n\n//             {/* <div className=\"form-group\">\n//                 <label>Photo</label>\n//                 <input type=\"file\" onChange={fileSelectedHandler} />\n//             </div> */}\n\n//             <div className=\"form-group\">\n//                 <label>Photo</label>\n//                 <input type=\"file\" onChange={(e) => { setFile(e.target.files[0]) }} />\n//                 <button type=\"button\" onClick={handleUpload}>Upload</button>\n//                 {/* {progress.started && <progress max=\"100\" value={progress.pc}></progress>}\n//                 {msg && <span>{msg}</span>} */}\n//             </div>\n\n//             <div className=\"button-group\">\n//                 <button type=\"submit\" className=\"btn btn-warning\">Save Pet Post</button>\n//             </div>\n//         </form>\n//     );\n// };\n\n// import React, { useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { createPetPost } from '../../services/petPostService';\n// import axios from 'axios';\n\n// export const PostAPet = ({ currentUser }) => {\n//     const [newPost, setNewPost] = useState({\n//         name: '',\n//         age: '',\n//         ageUnit: 'weeks',\n//         species: '',\n//         breed: '',\n//         medicalCondition: '',\n//         behavioralIssues: '',\n//         reasonForRehoming: '',\n//         photo: null,\n//     });\n\n//     const navigate = useNavigate();\n\n//     const handleFileChange = (event) => {\n//         setNewPost({ ...newPost, photo: event.target.files[0] });\n//     };\n\n//     const handleAddPost = async (event) => {\n//         event.preventDefault();\n\n//         const formData = new FormData();\n//         formData.append('name', newPost.name);\n//         formData.append('age', newPost.age);\n//         formData.append('ageUnit', newPost.ageUnit);\n//         formData.append('species', newPost.species);\n//         formData.append('breed', newPost.breed);\n//         formData.append('medicalCondition', newPost.medicalCondition);\n//         formData.append('behavioralIssues', newPost.behavioralIssues);\n//         formData.append('reasonForRehoming', newPost.reasonForRehoming);\n//         formData.append('photo', newPost.photo);\n\n//         try {\n//             const response = await axios.post('/api/upload', formData, {\n//                 headers: {\n//                     'Content-Type': 'multipart/form-data',\n//                 },\n//             });\n\n//             const post = {\n//                 ...newPost,\n//                 ownerId: currentUser.id,\n//                 timestamp: new Date().toISOString(),\n//                 photo: response.data,\n//             };\n\n//             await createPetPost(post);\n\n//             setNewPost({\n//                 name: '',\n//                 age: '',\n//                 ageUnit: 'weeks',\n//                 species: '',\n//                 breed: '',\n//                 medicalCondition: '',\n//                 behavioralIssues: '',\n//                 reasonForRehoming: '',\n//                 photo: null,\n//             });\n\n//             navigate('/myPosts');\n//         } catch (error) {\n//             console.error('Error uploading file:', error);\n//             alert('Error uploading file. Please try again.');\n//         }\n//     };\n\n//     return (\n//         <form onSubmit={handleAddPost}>\n//             <div className=\"form-group\">\n//                 <label>Name</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter name\"\n//                     value={newPost.name}\n//                     onChange={(event) => setNewPost({ ...newPost, name: event.target.value })}\n//                 />\n//             </div>\n//             <div className=\"form-group\">\n//                 <label>Age</label>\n//                 <div className=\"d-flex\">\n//                     <input\n//                         type=\"number\"\n//                         className=\"form-control\"\n//                         placeholder=\"Enter age\"\n//                         value={newPost.age}\n//                         onChange={(event) => setNewPost({ ...newPost, age: event.target.value })}\n//                     />\n//                     <select\n//                         className=\"form-control ml-2\"\n//                         value={newPost.ageUnit}\n//                         onChange={(event) => setNewPost({ ...newPost, ageUnit: event.target.value })}\n//                     >\n//                         <option value=\"weeks\">{newPost.age === 1 ? 'Week' : 'Weeks'}</option>\n//                         <option value=\"months\">{newPost.age === 1 ? 'Month' : 'Months'}</option>\n//                         <option value=\"years\">{newPost.age === 1 ? 'Year' : 'Years'}</option>\n//                     </select>\n//                 </div>\n//             </div>\n//             <div className=\"form-group\">\n//                 <label>Species</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter species\"\n//                     value={newPost.species}\n//                     onChange={(event) => setNewPost({ ...newPost, species: event.target.value })}\n//                 />\n//             </div>\n//             <div className=\"form-group\">\n//                 <label>Breed</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter breed\"\n//                     value={newPost.breed}\n//                     onChange={(event) => setNewPost({ ...newPost, breed: event.target.value })}\n//                 />\n//             </div>\n//             <div className=\"form-group\">\n//                 <label>Medical Condition</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter medical condition\"\n//                     value={newPost.medicalCondition}\n//                     onChange={(event) => setNewPost({ ...newPost, medicalCondition: event.target.value })}\n//                 />\n//             </div>\n//             <div className=\"form-group\">\n//                 <label>Behavioral Issues</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter behavioral issues\"\n//                     value={newPost.behavioralIssues}\n//                     onChange={(event) => setNewPost({ ...newPost, behavioralIssues: event.target.value })}\n//                 />\n//             </div>\n//             <div className=\"form-group\">\n//                 <label>Reason For Rehoming</label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter reason for rehoming\"\n//                     value={newPost.reasonForRehoming}\n//                     onChange={(event) => setNewPost({ ...newPost, reasonForRehoming: event.target.value })}\n//                 />\n//             </div>\n//             <div className=\"form-group\">\n//                 <label>Photo</label>\n//                 <input\n//                     type=\"file\"\n//                     className=\"form-control-file\"\n//                     onChange={handleFileChange}\n//                 />\n//             </div>\n//             <div className=\"button-group\">\n//                 <button type=\"submit\" className=\"btn btn-warning\">Save Pet Post</button>\n//             </div>\n//         </form>\n//     );\n// };","map":{"version":3,"names":[],"sources":["C:/Users/user/workspace/c9/test2/src/components/petPosts/PostAPet.jsx"],"sourcesContent":["//This works!!!!\r\n// import { useState } from 'react';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import { createPetPost } from '../../services/petPostService';\r\n\r\n// export const PostAPet = ({ currentUser }) => {\r\n//     const [newPost, setNewPost] = useState({\r\n//         name: '',\r\n//         age: '',\r\n//         ageUnit: 'weeks', // Added ageUnit\r\n//         species: '',\r\n//         breed: '',\r\n//         medicalCondition: '',\r\n//         behavioralIssues: '',\r\n//         reasonForRehoming: '',\r\n//         photo: ''\r\n//     });\r\n\r\n//     const navigate = useNavigate();\r\n\r\n//     const handleAddPost = async (event) => {\r\n//         event.preventDefault();\r\n//         const { name, age, species, breed, medicalCondition, behavioralIssues, reasonForRehoming, photo } = newPost;\r\n//         if (!name || !age || !species || !breed || !medicalCondition || !behavioralIssues || !reasonForRehoming || !photo) {\r\n//             alert('Please fill out all fields!');\r\n//             return;\r\n//         }\r\n//         const post = {\r\n//             ...newPost,\r\n//             ownerId: currentUser.id,\r\n//             timestamp: new Date().toISOString(),\r\n//         };\r\n//         await createPetPost(post);\r\n//         setNewPost({\r\n//             name: '',\r\n//             age: '',\r\n//             ageUnit: 'weeks', // Reset ageUnit\r\n//             species: '',\r\n//             breed: '',\r\n//             medicalCondition: '',\r\n//             behavioralIssues: '',\r\n//             reasonForRehoming: '',\r\n//             photo: ''\r\n//         });\r\n\r\n//         navigate('/myPosts');\r\n//     };\r\n\r\n//     return (\r\n//         <form onSubmit={handleAddPost}>\r\n//             <div className=\"form-group\">\r\n//                 <label>Name</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter name\"\r\n//                     value={newPost.name}\r\n//                     onChange={(event) => setNewPost({ ...newPost, name: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Age</label>\r\n//                 <div className=\"d-flex\">\r\n//                     <input\r\n//                         type=\"number\"\r\n//                         className=\"form-control\"\r\n//                         placeholder=\"Enter age\"\r\n//                         value={newPost.age}\r\n//                         onChange={(event) => setNewPost({ ...newPost, age: event.target.value })}\r\n//                     />\r\n//                     <select\r\n//                         className=\"form-control ml-2\"\r\n//                         value={newPost.ageUnit}\r\n//                         onChange={(event) => setNewPost({ ...newPost, ageUnit: event.target.value })}\r\n//                     >\r\n//                         {/* Corrected plural/singular form handling */}\r\n//                         <option value=\"weeks\">{newPost.age === 1 ? 'Week' : 'Weeks'}</option>\r\n//                         <option value=\"months\">{newPost.age === 1 ? 'Month' : 'Months'}</option>\r\n//                         <option value=\"years\">{newPost.age === 1 ? 'Year' : 'Years'}</option>\r\n//                     </select>\r\n//                 </div>\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Species</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter species\"\r\n//                     value={newPost.species}\r\n//                     onChange={(event) => setNewPost({ ...newPost, species: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Breed</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter breed\"\r\n//                     value={newPost.breed}\r\n//                     onChange={(event) => setNewPost({ ...newPost, breed: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Medical Condition</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter medical condition\"\r\n//                     value={newPost.medicalCondition}\r\n//                     onChange={(event) => setNewPost({ ...newPost, medicalCondition: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Behavioral Issues</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter behavioral issues\"\r\n//                     value={newPost.behavioralIssues}\r\n//                     onChange={(event) => setNewPost({ ...newPost, behavioralIssues: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Reason For Rehoming</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter reason for rehoming\"\r\n//                     value={newPost.reasonForRehoming}\r\n//                     onChange={(event) => setNewPost({ ...newPost, reasonForRehoming: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Photo</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter photo URL\"\r\n//                     value={newPost.photo}\r\n//                     onChange={(event) => setNewPost({ ...newPost, photo: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"button-group\">\r\n//                 <button type=\"submit\" className=\"btn btn-warning\">Save Pet Post</button>\r\n//             </div>\r\n//         </form>\r\n//     );\r\n// };\r\n\r\n\r\n\r\n//upload pic:\r\n// import { useState } from 'react';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import { createPetPost } from '../../services/petPostService';\r\n// import axios from 'axios';\r\n\r\n// export const PostAPet = ({ currentUser }) => {\r\n//     const [newPost, setNewPost] = useState({\r\n//         name: '',\r\n//         age: '',\r\n//         ageUnit: 'weeks',\r\n//         species: '',\r\n//         breed: '',\r\n//         medicalCondition: '',\r\n//         behavioralIssues: '',\r\n//         reasonForRehoming: '',\r\n//         photo: null // Changed to null for storing the selected image file\r\n//     });\r\n\r\n//     const [selectedFile, setSelectedFile] = useState(null);\r\n//     const [file, setFile] = useState(null);\r\n//     // const [progress, setProgress] = useState({ started: false, pc: 0 });\r\n//     // const [msg, setMsg] = useState(null);\r\n\r\n//     const navigate = useNavigate();\r\n\r\n//     const handleAddPost = async (event) => {\r\n//         event.preventDefault();\r\n//         const { name, age, species, breed, medicalCondition, behavioralIssues, reasonForRehoming } = newPost;\r\n//         if (!name || !age || !species || !breed || !medicalCondition || !behavioralIssues || !reasonForRehoming || !selectedFile) {\r\n//             alert('Please fill out all fields!');\r\n//             return;\r\n//         }\r\n\r\n//         const formData = new FormData();\r\n//         formData.append('name', name);\r\n//         formData.append('age', age);\r\n//         formData.append('ageUnit', newPost.ageUnit);\r\n//         formData.append('species', species);\r\n//         formData.append('breed', breed);\r\n//         formData.append('medicalCondition', medicalCondition);\r\n//         formData.append('behavioralIssues', behavioralIssues);\r\n//         formData.append('reasonForRehoming', reasonForRehoming);\r\n//         formData.append('photo', selectedFile);\r\n//         formData.append('ownerId', currentUser.id);\r\n//         formData.append('timestamp', new Date().toISOString());\r\n\r\n//         try {\r\n//             await createPetPost(formData); // Assuming createPetPost can handle FormData\r\n//             setNewPost({\r\n//                 name: '',\r\n//                 age: '',\r\n//                 ageUnit: 'weeks',\r\n//                 species: '',\r\n//                 breed: '',\r\n//                 medicalCondition: '',\r\n//                 behavioralIssues: '',\r\n//                 reasonForRehoming: '',\r\n//                 photo: null\r\n//             });\r\n//             setSelectedFile(null);\r\n//             navigate('/myPosts');\r\n//         } catch (error) {\r\n//             console.error('Error creating pet post:', error);\r\n//         }\r\n//     };\r\n\r\n//     const fileSelectedHandler = (event) => {\r\n//         setSelectedFile(event.target.files[0]);\r\n//     };\r\n\r\n//     function handleUpload() {\r\n//         if (!file) {\r\n//             console.log(\"NO file selected!\")\r\n//             return;\r\n//         }\r\n\r\n//         const fd = new FormData();\r\n//         fd.append(\"file\", file);\r\n\r\n//         setMsg(\"Uploading....\");\r\n//         setProgress(prevState => {\r\n//             return { ...prevState, started: true };\r\n//         });\r\n\r\n//         axios.post(\"http://httpbin.org/post\", fd, {\r\n//             onUploadProgress: (progressEvent) => {\r\n//                 setProgress(prevState => {\r\n//                     return { ...prevState, pc: progressEvent.loaded / progressEvent.total * 100 };\r\n//                 });\r\n//             },\r\n//             headers: {\r\n//                 \"Custom-Header\": \"value\"\r\n//             }\r\n//         })\r\n//             .then(res => {\r\n//                 setMsg(\"Upload successful\");\r\n//                 console.log(res.data);\r\n//             })\r\n//             .catch(err => {\r\n//                 setMsg(\"Upload failed\");\r\n//                 console.log(err);\r\n//             });\r\n//     }\r\n\r\n//     return (\r\n//         <form onSubmit={handleAddPost}>\r\n//             <div className=\"form-group\">\r\n//                 <label>Name</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter name\"\r\n//                     value={newPost.name}\r\n//                     onChange={(event) => setNewPost({ ...newPost, name: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Age</label>\r\n//                 <div className=\"d-flex\">\r\n//                     <input\r\n//                         type=\"number\"\r\n//                         className=\"form-control\"\r\n//                         placeholder=\"Enter age\"\r\n//                         value={newPost.age}\r\n//                         onChange={(event) => setNewPost({ ...newPost, age: event.target.value })}\r\n//                     />\r\n//                     <select\r\n//                         className=\"form-control ml-2\"\r\n//                         value={newPost.ageUnit}\r\n//                         onChange={(event) => setNewPost({ ...newPost, ageUnit: event.target.value })}\r\n//                     >\r\n//                         <option value=\"weeks\">{newPost.age === 1 ? 'Week' : 'Weeks'}</option>\r\n//                         <option value=\"months\">{newPost.age === 1 ? 'Month' : 'Months'}</option>\r\n//                         <option value=\"years\">{newPost.age === 1 ? 'Year' : 'Years'}</option>\r\n//                     </select>\r\n//                 </div>\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Species</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter species\"\r\n//                     value={newPost.species}\r\n//                     onChange={(event) => setNewPost({ ...newPost, species: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Breed</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter breed\"\r\n//                     value={newPost.breed}\r\n//                     onChange={(event) => setNewPost({ ...newPost, breed: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Medical Condition</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter medical condition\"\r\n//                     value={newPost.medicalCondition}\r\n//                     onChange={(event) => setNewPost({ ...newPost, medicalCondition: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Behavioral Issues</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter behavioral issues\"\r\n//                     value={newPost.behavioralIssues}\r\n//                     onChange={(event) => setNewPost({ ...newPost, behavioralIssues: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Reason For Rehoming</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter reason for rehoming\"\r\n//                     value={newPost.reasonForRehoming}\r\n//                     onChange={(event) => setNewPost({ ...newPost, reasonForRehoming: event.target.value })}\r\n//                 />\r\n//             </div>\r\n\r\n//             {/* <div className=\"form-group\">\r\n//                 <label>Photo</label>\r\n//                 <input type=\"file\" onChange={fileSelectedHandler} />\r\n//             </div> */}\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label>Photo</label>\r\n//                 <input type=\"file\" onChange={(e) => { setFile(e.target.files[0]) }} />\r\n//                 <button type=\"button\" onClick={handleUpload}>Upload</button>\r\n//                 {/* {progress.started && <progress max=\"100\" value={progress.pc}></progress>}\r\n//                 {msg && <span>{msg}</span>} */}\r\n//             </div>\r\n\r\n//             <div className=\"button-group\">\r\n//                 <button type=\"submit\" className=\"btn btn-warning\">Save Pet Post</button>\r\n//             </div>\r\n//         </form>\r\n//     );\r\n// };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { useState } from 'react';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import { createPetPost } from '../../services/petPostService';\r\n// import axios from 'axios';\r\n\r\n// export const PostAPet = ({ currentUser }) => {\r\n//     const [newPost, setNewPost] = useState({\r\n//         name: '',\r\n//         age: '',\r\n//         ageUnit: 'weeks',\r\n//         species: '',\r\n//         breed: '',\r\n//         medicalCondition: '',\r\n//         behavioralIssues: '',\r\n//         reasonForRehoming: '',\r\n//         photo: null,\r\n//     });\r\n\r\n//     const navigate = useNavigate();\r\n\r\n//     const handleFileChange = (event) => {\r\n//         setNewPost({ ...newPost, photo: event.target.files[0] });\r\n//     };\r\n\r\n//     const handleAddPost = async (event) => {\r\n//         event.preventDefault();\r\n\r\n//         const formData = new FormData();\r\n//         formData.append('name', newPost.name);\r\n//         formData.append('age', newPost.age);\r\n//         formData.append('ageUnit', newPost.ageUnit);\r\n//         formData.append('species', newPost.species);\r\n//         formData.append('breed', newPost.breed);\r\n//         formData.append('medicalCondition', newPost.medicalCondition);\r\n//         formData.append('behavioralIssues', newPost.behavioralIssues);\r\n//         formData.append('reasonForRehoming', newPost.reasonForRehoming);\r\n//         formData.append('photo', newPost.photo);\r\n\r\n//         try {\r\n//             const response = await axios.post('/api/upload', formData, {\r\n//                 headers: {\r\n//                     'Content-Type': 'multipart/form-data',\r\n//                 },\r\n//             });\r\n\r\n//             const post = {\r\n//                 ...newPost,\r\n//                 ownerId: currentUser.id,\r\n//                 timestamp: new Date().toISOString(),\r\n//                 photo: response.data,\r\n//             };\r\n\r\n//             await createPetPost(post);\r\n\r\n//             setNewPost({\r\n//                 name: '',\r\n//                 age: '',\r\n//                 ageUnit: 'weeks',\r\n//                 species: '',\r\n//                 breed: '',\r\n//                 medicalCondition: '',\r\n//                 behavioralIssues: '',\r\n//                 reasonForRehoming: '',\r\n//                 photo: null,\r\n//             });\r\n\r\n//             navigate('/myPosts');\r\n//         } catch (error) {\r\n//             console.error('Error uploading file:', error);\r\n//             alert('Error uploading file. Please try again.');\r\n//         }\r\n//     };\r\n\r\n//     return (\r\n//         <form onSubmit={handleAddPost}>\r\n//             <div className=\"form-group\">\r\n//                 <label>Name</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter name\"\r\n//                     value={newPost.name}\r\n//                     onChange={(event) => setNewPost({ ...newPost, name: event.target.value })}\r\n//                 />\r\n//             </div>\r\n//             <div className=\"form-group\">\r\n//                 <label>Age</label>\r\n//                 <div className=\"d-flex\">\r\n//                     <input\r\n//                         type=\"number\"\r\n//                         className=\"form-control\"\r\n//                         placeholder=\"Enter age\"\r\n//                         value={newPost.age}\r\n//                         onChange={(event) => setNewPost({ ...newPost, age: event.target.value })}\r\n//                     />\r\n//                     <select\r\n//                         className=\"form-control ml-2\"\r\n//                         value={newPost.ageUnit}\r\n//                         onChange={(event) => setNewPost({ ...newPost, ageUnit: event.target.value })}\r\n//                     >\r\n//                         <option value=\"weeks\">{newPost.age === 1 ? 'Week' : 'Weeks'}</option>\r\n//                         <option value=\"months\">{newPost.age === 1 ? 'Month' : 'Months'}</option>\r\n//                         <option value=\"years\">{newPost.age === 1 ? 'Year' : 'Years'}</option>\r\n//                     </select>\r\n//                 </div>\r\n//             </div>\r\n//             <div className=\"form-group\">\r\n//                 <label>Species</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter species\"\r\n//                     value={newPost.species}\r\n//                     onChange={(event) => setNewPost({ ...newPost, species: event.target.value })}\r\n//                 />\r\n//             </div>\r\n//             <div className=\"form-group\">\r\n//                 <label>Breed</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter breed\"\r\n//                     value={newPost.breed}\r\n//                     onChange={(event) => setNewPost({ ...newPost, breed: event.target.value })}\r\n//                 />\r\n//             </div>\r\n//             <div className=\"form-group\">\r\n//                 <label>Medical Condition</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter medical condition\"\r\n//                     value={newPost.medicalCondition}\r\n//                     onChange={(event) => setNewPost({ ...newPost, medicalCondition: event.target.value })}\r\n//                 />\r\n//             </div>\r\n//             <div className=\"form-group\">\r\n//                 <label>Behavioral Issues</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter behavioral issues\"\r\n//                     value={newPost.behavioralIssues}\r\n//                     onChange={(event) => setNewPost({ ...newPost, behavioralIssues: event.target.value })}\r\n//                 />\r\n//             </div>\r\n//             <div className=\"form-group\">\r\n//                 <label>Reason For Rehoming</label>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter reason for rehoming\"\r\n//                     value={newPost.reasonForRehoming}\r\n//                     onChange={(event) => setNewPost({ ...newPost, reasonForRehoming: event.target.value })}\r\n//                 />\r\n//             </div>\r\n//             <div className=\"form-group\">\r\n//                 <label>Photo</label>\r\n//                 <input\r\n//                     type=\"file\"\r\n//                     className=\"form-control-file\"\r\n//                     onChange={handleFileChange}\r\n//                 />\r\n//             </div>\r\n//             <div className=\"button-group\">\r\n//                 <button type=\"submit\" className=\"btn btn-warning\">Save Pet Post</button>\r\n//             </div>\r\n//         </form>\r\n//     );\r\n// };\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAQA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}